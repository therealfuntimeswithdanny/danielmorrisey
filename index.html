<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Morrisey</title>
    <meta name="description" content="Writer @ Code and Chaos & HTML, CSS, Javascript & Python developer">
    
    <!-- Google Fonts for a monospaced terminal font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
    
    <meta name="keywords" content="Daniel Morrisey, Danny Morrisey, MBD, Made by Danny, Made by Danny UK"/>
    <meta name="author" content="Daniel Morrisey"/>

    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://danielmorrisey.com/"/>
    <meta property="og:title" content="Daniel Morrisey"/>
    <meta property="og:description" content="Writer @ Code and Chaos & HTML, CSS, Javascript & Python developer"/>
    <meta property="og:image" content="https://public-danielmorrisey-com.danielmorrisey.com/media/banner.jpg"/>

    <link rel="me" href="https://mastodon.social/@danielmorrisey"/>
    <link rel="icon" type="image/x-icon" href="https://public-danielmorrisey-com.danielmorrisey.com/media/icon.jpg">

    <!-- Status Banner -->
    <script src="https://uptime.betterstack.com/widgets/announcement.js" data-id="223534" async="async" type="text/javascript"></script>


    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            font-family: 'Fira Code', monospace;
            background-color: #121212;
            color: #e0e0e0;
            margin: 40px;
        }
        a {
            color: #f71900;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        hr {
            border: 0;
            height: 1px;
            background: #333;
            margin: 20px 0;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 10px 0;
        }
        i {
            margin-right: 8px;
        }
        .title {
            font-size: 24px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <p class="title"><b>Hello World</b> I'm Daniel Morrisey</p>
    <p>Writer @ <a href="https://medium.com/code-and-chaos" target="_blank">Code and Chaos</a> & HTML, CSS, Javascript & Python developer</p>
    <hr>
    <p>Find me on:</p>
    <ul>
        <li><a href="https://bsky.app/profile/danielmorrisey.com" target="_blank"><i class="fa-brands fa-bluesky"></i> Bluesky</a></li>
        <li><a href="https://threads.com/madebydanny.uk" target="_blank"><i class="fa-brands fa-threads"></i> Threads</a></li>
        <li><a href="https://medium.com/@danielmorrisey" target="_blank"><i class="fa-brands fa-medium"></i> Medium</a></li>
        <li><a href="mailto:danielmorrisey.large390@passinbox.com" target="_blank"><i class="fa-solid fa-envelope"></i> Email</a></li>
    </ul>
    <hr>
    <p>Latest Posts by Daniel Morrisey</p>
    
    <div id="loading">Fetching posts...</div>

    <div id="post-list" style="display: none;"></div>

    <div id="error-message" style="display: none;">Failed to load posts. Please try again later.</div>

    <script>
        const postList = document.getElementById('post-list');
        const loadingIndicator = document.getElementById('loading');
        const errorMessage = document.getElementById('error-message');

        const fetchPosts = async () => {
            const feedUrl = 'https://medium.com/feed/@danielmorrisey';
            // Using corsproxy.io instead of allorigins.win as it seems to be more reliable
            const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(feedUrl)}`;

            try {
                const response = await fetch(proxyUrl);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.text(); // Get response as text instead of json
                
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'text/xml');
                
                const items = xmlDoc.querySelectorAll('item');
                const postsToShow = 5;
                
                if (items.length > 0) {
                    items.forEach((item, index) => {
                        if (index < postsToShow) {
                            const title = item.querySelector('title').textContent;
                            const link = item.querySelector('link').textContent;

                            const paragraph = document.createElement('p');
                            const linkElement = document.createElement('a');
                            const iconElement = document.createElement('i');

                            linkElement.href = link;
                            linkElement.textContent = title;
                            linkElement.target = "_blank";
                            
                            iconElement.className = "fa-solid fa-arrow-up-right-from-square";
                            iconElement.style.marginLeft = "5px"; // Add a small space
                            
                            paragraph.appendChild(linkElement);
                            paragraph.appendChild(iconElement);
                            
                            postList.appendChild(paragraph);
                        }
                    });
                    postList.style.display = 'block';
                } else {
                    errorMessage.textContent = "No posts found.";
                    errorMessage.style.display = 'block';
                }
            } catch (error) {
                console.error('Error fetching or parsing the feed:', error);
                errorMessage.style.display = 'block';
            } finally {
                loadingIndicator.style.display = 'none';
            }
        };

        document.addEventListener('DOMContentLoaded', fetchPosts);
    </script>
</body>
</html>
